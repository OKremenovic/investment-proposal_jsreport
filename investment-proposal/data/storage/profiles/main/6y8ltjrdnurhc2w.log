{"type":"operationStart","subtype":"profile","data":{"_id":"4WmuPJJWznvK3BuC","timestamp":"2023-11-03T11:06:22.570Z","state":"queued","mode":"standard","creationDate":"2023-11-03T11:06:22.572Z","modificationDate":"2023-11-03T11:06:22.572Z","shortid":"uuz1lWb","$entitySet":"profiles"},"doDiffs":false,"timestamp":1699009582571,"id":"spxgs5rojyz30np","previousOperationId":null,"operationId":"hfnauddf0rhuzrj"}
{"type":"log","level":"info","message":"Render request 243 queued for execution and waiting for available worker","previousOperationId":"hfnauddf0rhuzrj","timestamp":1699009582571,"id":"up25rs2hi53ujs9"}
{"type":"operationStart","subtype":"render","name":"main","previousOperationId":"hfnauddf0rhuzrj","timestamp":1699009582581,"id":"g7bjapc0pvn37jv","previousEventId":"spxgs5rojyz30np","operationId":"ga25idzduoy3rpo"}
{"type":"log","timestamp":1699009582581,"level":"info","message":"Starting rendering request 243","meta":{"rootId":"6y8ltjrdnurhc2w","id":"6y8ltjrdnurhc2w"},"id":"syklplo7udrap2m","previousOperationId":"ga25idzduoy3rpo"}
{"type":"log","timestamp":1699009582584,"level":"info","message":"Rendering template { name: main, recipe: html, engine: handlebars, preview: true }","meta":{"rootId":"6y8ltjrdnurhc2w","id":"6y8ltjrdnurhc2w"},"id":"xh123qvmv3ab2do","previousOperationId":"ga25idzduoy3rpo"}
{"type":"log","timestamp":1699009582584,"level":"debug","message":"Adding sample data xOo8CoQnV","meta":{"rootId":"6y8ltjrdnurhc2w","id":"6y8ltjrdnurhc2w"},"id":"obsjw2qvxw99u3j","previousOperationId":"ga25idzduoy3rpo"}
{"type":"log","timestamp":1699009582585,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"6y8ltjrdnurhc2w","id":"6y8ltjrdnurhc2w"},"id":"ruyk2f9jswh2sjj","previousOperationId":"ga25idzduoy3rpo"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1699009582585,"id":"zkw6v1odhqd12ph","previousEventId":"g7bjapc0pvn37jv","operationId":"b1y56w2xh6z7kww","previousOperationId":"ga25idzduoy3rpo"}
{"type":"log","timestamp":1699009582585,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"6y8ltjrdnurhc2w","id":"6y8ltjrdnurhc2w"},"id":"di70e4zf8sww4x4","previousOperationId":"b1y56w2xh6z7kww"}
{"type":"operationStart","subtype":"render","name":"proposed-portfolio","previousOperationId":"b1y56w2xh6z7kww","timestamp":1699009582595,"id":"666hgcweavw3cus","previousEventId":"zkw6v1odhqd12ph","operationId":"tr6zrqvj8vu02vt"}
{"type":"log","timestamp":1699009582595,"level":"info","message":"Starting rendering (child) request","meta":{"rootId":"6y8ltjrdnurhc2w","id":"y53kuzrp2aqpchi"},"id":"556t58vi0hmp6wn","previousOperationId":"tr6zrqvj8vu02vt"}
{"type":"log","timestamp":1699009582595,"level":"info","message":"Rendering template { name: proposed-portfolio, recipe: html, engine: handlebars, preview: true }","meta":{"rootId":"6y8ltjrdnurhc2w","id":"y53kuzrp2aqpchi"},"id":"w77pd9c2fxu0a56","previousOperationId":"tr6zrqvj8vu02vt"}
{"type":"log","timestamp":1699009582595,"level":"debug","message":"Inline data specified.","meta":{"rootId":"6y8ltjrdnurhc2w","id":"y53kuzrp2aqpchi"},"id":"19f9wqadz57fa2b","previousOperationId":"tr6zrqvj8vu02vt"}
{"type":"log","timestamp":1699009582596,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"6y8ltjrdnurhc2w","id":"y53kuzrp2aqpchi"},"id":"ww9kmizj22jv6hy","previousOperationId":"tr6zrqvj8vu02vt"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1699009582596,"id":"r3jhgujcy3lnfpo","previousEventId":"666hgcweavw3cus","operationId":"swpfup9ztrleukx","previousOperationId":"tr6zrqvj8vu02vt"}
{"type":"log","timestamp":1699009582596,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"6y8ltjrdnurhc2w","id":"y53kuzrp2aqpchi"},"id":"u1epuythuhpusj3","previousOperationId":"swpfup9ztrleukx"}
{"type":"log","timestamp":1699009582626,"level":"warn","message":"Error when processing (child) render request\n(because) error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n\n(mainHelper.js line 33:19)\n\n  31 |\n  32 | function formatNumber({number, decimalPlaces = 2}) {\n> 33 |   number = number.toFixed(decimalPlaces);\n     |                   ^\n  34 |   return number.toLocaleString();\n  35 | };\n  36 |             __topLevelFunctions = {...__topLevelFunctions, \"localizeExt\": localizeExt,\"ifEquals\": ifEquals,\"ifvalue\": ifvalue,\"toUpperCase\": toUpperCase,\"toLocaleString\": toLocaleString,\"formatNumber\": formatNumber}\n\n\nTypeError: Cannot read properties of undefined (reading 'toFixed')\n    at Object.formatNumber (mainHelper.js:33:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:366:23)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:345:27)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:22:114)\n    at prog (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:37:49)\nwrapped by:\nError: \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:362:54)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:368:15)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:345:27)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:22:114)\n    at prog (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\nwrapped by:\nError: Error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:308:33)\n    at async engine.engine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async proxy.render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\defaultProxyExtend.js:6:17)\n    at async Object.childTemplate (system-helpers.js:62:15)\n    at async D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:226:40\n    at async Promise.all (index 1)","meta":{"rootId":"6y8ltjrdnurhc2w","id":"y53kuzrp2aqpchi"},"id":"sgii7374h4qzdkf","previousOperationId":"swpfup9ztrleukx"}
{"type":"log","timestamp":1699009582626,"level":"warn","message":"Rendering (child) request finished with error in 56 ms","meta":{"rootId":"6y8ltjrdnurhc2w","id":"y53kuzrp2aqpchi"},"id":"0ifjigmobajzqdc","previousOperationId":"swpfup9ztrleukx"}
{"type":"log","timestamp":1699009582627,"level":"warn","message":"Error when processing render request 243\n(because) error when evaluating engine handlebars for template /main\n(because) \"childTemplate\" helper call failed\n(because) error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n\n(mainHelper.js line 33:19)\n\n  31 |\n  32 | function formatNumber({number, decimalPlaces = 2}) {\n> 33 |   number = number.toFixed(decimalPlaces);\n     |                   ^\n  34 |   return number.toLocaleString();\n  35 | };\n  36 |             __topLevelFunctions = {...__topLevelFunctions, \"localizeExt\": localizeExt,\"ifEquals\": ifEquals,\"ifvalue\": ifvalue,\"toUpperCase\": toUpperCase,\"toLocaleString\": toLocaleString,\"formatNumber\": formatNumber}\n\n\n\n(system-helpers.js line 62:15)\n\n  60 |   const jsreport = require('jsreport-proxy')\n  61 |\n> 62 |   const res = await jsreport.render({\n     |               ^\n  63 |     template: typeof templateNameOrObject === 'string'\n  64 |       ? {\n  65 |           name: templateNameOrObject\n\n\nTypeError: Cannot read properties of undefined (reading 'toFixed')\n    at Object.formatNumber (mainHelper.js:33:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:366:23)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:345:27)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:22:114)\n    at prog (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:37:49)\nwrapped by:\nError: \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:362:54)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:368:15)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:345:27)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:22:114)\n    at prog (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\nwrapped by:\nError: Error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:308:33)\n    at async engine.engine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async proxy.render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\defaultProxyExtend.js:6:17)\n    at async Object.childTemplate (system-helpers.js:62:15)\n    at async D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:226:40\n    at async Promise.all (index 1)\nwrapped by:\nError: \"childTemplate\" helper call failed\n(because) error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n\n(mainHelper.js line 33:19)\n\n  31 |\n  32 | function formatNumber({number, decimalPlaces = 2}) {\n> 33 |   number = number.toFixed(decimalPlaces);\n     |                   ^\n  34 |   return number.toLocaleString();\n  35 | };\n  36 |             __topLevelFunctions = {...__topLevelFunctions, \"localizeExt\": localizeExt,\"ifEquals\": ifEquals,\"ifvalue\": ifvalue,\"toUpperCase\": toUpperCase,\"toLocaleString\": toLocaleString,\"formatNumber\": formatNumber}\n\n\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:362:54)\n    at D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:376:15\n    at async D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:226:40\n    at async Promise.all (index 1)\n    at async executionFn (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:225:9)\n    at async run (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:16)\n    at async WorkerReporter.runInSandbox [as _runInSandbox] (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:195:14)\n    at async executeEngine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:285:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /main\n(because) \"childTemplate\" helper call failed\n(because) error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n\n(mainHelper.js line 33:19)\n\n  31 |\n  32 | function formatNumber({number, decimalPlaces = 2}) {\n> 33 |   number = number.toFixed(decimalPlaces);\n     |                   ^\n  34 |   return number.toLocaleString();\n  35 | };\n  36 |             __topLevelFunctions = {...__topLevelFunctions, \"localizeExt\": localizeExt,\"ifEquals\": ifEquals,\"ifvalue\": ifvalue,\"toUpperCase\": toUpperCase,\"toLocaleString\": toLocaleString,\"formatNumber\": formatNumber}\n\n\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:308:33)\n    at async engine.engine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"6y8ltjrdnurhc2w","id":"6y8ltjrdnurhc2w"},"id":"bhicz5do0ys2nwj","previousOperationId":"b1y56w2xh6z7kww"}
{"type":"log","timestamp":1699009582627,"level":"warn","message":"Rendering request 243 finished with error in 57 ms","meta":{"rootId":"6y8ltjrdnurhc2w","id":"6y8ltjrdnurhc2w"},"id":"1otvhb322ktc5p6","previousOperationId":"b1y56w2xh6z7kww"}
{"type":"error","timestamp":1699009582656,"entity":{"shortid":"stSrr3v","name":"mainHelper.js","content":"const vm = require('vm')\r\n\r\nconst interpolate = (tmpl, vars) => {\r\n  return vm.runInNewContext('`' + tmpl + '`' , vars)\r\n}\r\n\r\nasync function localizeExt(key, folder, opts) {\r\n  const v = await localize(key, folder);\r\n  return interpolate(v, opts.hash)\r\n}\r\n\r\nfunction ifEquals(arg1, arg2, options) {\r\n    return (arg1 == arg2) ? options.fn(this) : options.inverse(this);\r\n}\r\n\r\nfunction ifvalue(conditional, options) {\r\n    if (options.hash.value === conditional) {\r\n        return options.fn(this)\r\n    } else {\r\n        return options.inverse(this);\r\n    }\r\n}\r\n\r\nfunction toUpperCase(text) {\r\n  return text.toUpperCase()\r\n}\r\n\r\nfunction toLocaleString(text) {\r\n  return text.toLocaleString();\r\n}\r\n\r\nfunction formatNumber({number, decimalPlaces = 2}) {\r\n  number = number.toFixed(decimalPlaces);\r\n  return number.toLocaleString();\r\n}"},"lineNumber":33,"property":"content","statusCode":400,"weak":true,"logged":true,"previousOperationId":"b1y56w2xh6z7kww","id":"t4bi70q3v7pifts","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at Object.formatNumber (mainHelper.js:33:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:366:23)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:345:27)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:22:114)\n    at prog (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:37:49)\nwrapped by:\nError: \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:362:54)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:368:15)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:345:27)\n    at Object.wrapper (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:22:114)\n    at prog (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\nwrapped by:\nError: Error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:308:33)\n    at async engine.engine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async proxy.render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\defaultProxyExtend.js:6:17)\n    at async Object.childTemplate (system-helpers.js:62:15)\n    at async D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:226:40\n    at async Promise.all (index 1)\nwrapped by:\nError: \"childTemplate\" helper call failed\n(because) error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n\n(mainHelper.js line 33:19)\n\n  31 |\n  32 | function formatNumber({number, decimalPlaces = 2}) {\n> 33 |   number = number.toFixed(decimalPlaces);\n     |                   ^\n  34 |   return number.toLocaleString();\n  35 | };\n  36 |             __topLevelFunctions = {...__topLevelFunctions, \"localizeExt\": localizeExt,\"ifEquals\": ifEquals,\"ifvalue\": ifvalue,\"toUpperCase\": toUpperCase,\"toLocaleString\": toLocaleString,\"formatNumber\": formatNumber}\n\n\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:362:54)\n    at D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:376:15\n    at async D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:226:40\n    at async Promise.all (index 1)\n    at async executionFn (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:225:9)\n    at async run (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:16)\n    at async WorkerReporter.runInSandbox [as _runInSandbox] (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:195:14)\n    at async executeEngine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:285:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /main\n(because) \"childTemplate\" helper call failed\n(because) error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n\n(mainHelper.js line 33:19)\n\n  31 |\n  32 | function formatNumber({number, decimalPlaces = 2}) {\n> 33 |   number = number.toFixed(decimalPlaces);\n     |                   ^\n  34 |   return number.toLocaleString();\n  35 | };\n  36 |             __topLevelFunctions = {...__topLevelFunctions, \"localizeExt\": localizeExt,\"ifEquals\": ifEquals,\"ifvalue\": ifvalue,\"toUpperCase\": toUpperCase,\"toLocaleString\": toLocaleString,\"formatNumber\": formatNumber}\n\n\n    at module.exports (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:308:33)\n    at async engine.engine (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (D:\\Projects\\investment-proposal_jsreport\\investment-proposal\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /main\n(because) \"childTemplate\" helper call failed\n(because) error when evaluating engine handlebars for template /templates/proposed-portfolio\n(because) \"formatNumber\" helper call failed\n(because) cannot read properties of undefined (reading 'toFixed')\n\n(mainHelper.js line 33:19)\n\n  31 |\n  32 | function formatNumber({number, decimalPlaces = 2}) {\n> 33 |   number = number.toFixed(decimalPlaces);\n     |                   ^\n  34 |   return number.toLocaleString();\n  35 | };\n  36 |             __topLevelFunctions = {...__topLevelFunctions, \"localizeExt\": localizeExt,\"ifEquals\": ifEquals,\"ifvalue\": ifvalue,\"toUpperCase\": toUpperCase,\"toLocaleString\": toLocaleString,\"formatNumber\": formatNumber}\n\n\n\n(system-helpers.js line 62:15)\n\n  60 |   const jsreport = require('jsreport-proxy')\n  61 |\n> 62 |   const res = await jsreport.render({\n     |               ^\n  63 |     template: typeof templateNameOrObject === 'string'\n  64 |       ? {\n  65 |           name: templateNameOrObject\n\n"}
